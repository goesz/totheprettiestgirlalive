<!DOCTYPE html>
<html lang="pt-BR">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Advent+Pro:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>47 Motivos</title>
  <link rel="stylesheet" href="malu.css">
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <style>
  </style>
</head>
<footer id="rodape">from: rafael goes<br>to: the prettiest girl alive</footer>
<body>
      <div id="popup" style="
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  background:#fff0f0;
  padding:30px 20px;
  border-radius:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
  z-index:10;
  width:300px;
  text-align:center;
  font-family:'Segoe UI', sans-serif;
  color:#333;
">
  <button onclick="fecharPopup()" style="
    background:none;
    border:none;
    color:#ff4d4d;
    font-size:22px;
    font-weight:bold;
    cursor:pointer;
    position:absolute;
    top:10px;
    right:15px;
  ">×</button>

  <div id="conteudoPopup">
    <p id="contadorDias" style="margin:10px 0; font-size:16px;"></p>
    <p id="contadorMotivos" style="margin:10px 0; font-size:16px;">hi</p>
    <p style="margin:10px 0; font-weight:bold; color:#d62828;">1 coração 100% seu.</p>
  </div>
</div>
<div id="overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.5); z-index:9;"></div>
  <div id="particles-js" style="position:fixed; width:100%; height:100%; top:0; left:0;"></div>
  <div id="inicio">
    <h1 style="color: #000; text-shadow: 1px 1px 2px pink; text-align: center;">47 Motivos para você namorar comigo</h1>
    <button class="btn" onclick="comecar()" id="btnSim">Começar</button>
    <button class="btn" id="btnNao">Não quero</button>
  </div>

  <div id="slide" style=>
    <div class="card">
      <img id="img" src="img/1.jpg" alt="Motivo 1">
      <div class="descricao">
        <h3 id="titulo">1. Placeholder</h3>
        <p id="descricao">Texto do motivo 1.</p>
      </div>
    </div>
    
    <div class="navegacao">
      <button class="btn" id="btnAnterior" onclick="voltar()">Anterior</button>
      <button class="btn" id="btnProximo" onclick="proximo()">Próximo</button>
      <button class="btn" id="btnStats" onclick="mostrarEstatisticas()" style="  background-color: transparent; border: 1px solid #fa2424;color: #fa2424; transition: top 0.2s, left 0.2s; display: none;">Estatisticas</button>
    </div>
  </div>
<div id="musicControl" style="position:fixed; bottom:20px; right:10px; align-items:center;background:#ff3f3f; border-radius:8px; padding:10px; width:40px; overflow:hidden; transition: width 0.3s ease; display: none;">
  <button id="btnMusica" style="left: 20px; background:none; border:none; color:white; font-size:20px; display:flex; align-items:center; justify-content:center;">♪</button>
  <input id="volumeSlider" type="range" min="0" max="1" step="0.01" value="0.5" style="margin-left:10px; width:100px; -webkit-appearance:none; height:6px; background:#ffd6d0; border-radius:5px; outline:none; opacity:0; transition: opacity 0.3s ease;">
</div>
  <audio id="musica" loop>
  <source src="music/if-i-had.MP3" type="audio/mpeg">
</audio>

  <script src="motivos.js"></script>
  <script>
    let atual = 0;
    const musicControl = document.getElementById('musicControl');

    function subirCoracao() {
  const coracao = document.createElement('div');
  coracao.textContent = '💖';
  coracao.style.position = 'fixed';
  coracao.style.left = Math.random() * 100 + 'vw';
  coracao.style.bottom = '0';
  coracao.style.fontSize = (16 + Math.random() * 20) + 'px';
  coracao.style.opacity = '0.8';
  coracao.style.transition = 'bottom 4s linear, opacity 4s';
  coracao.style.zIndex = '0';
  coracao.style.userSelect = 'none';
  coracao.style.pointerEvents = 'none';
  document.body.appendChild(coracao);

  requestAnimationFrame(() => {
    coracao.style.bottom = '100vh';
    coracao.style.opacity = '0';
  });

  setTimeout(() => coracao.remove(), 4000);
}

    function comecar() {
      document.getElementById('inicio').style.display = 'none';
      document.getElementById('slide').style.display = 'flex';
      mostrarMotivo();
      document.getElementById('musica').play();
      document.getElementById('musicControl').style.display = 'flex';
      setInterval(subirCoracao, 10000);
    }

    function mostrarMotivo() {
      document.getElementById('img').src = motivos[atual].img;
      document.getElementById('titulo').textContent = motivos[atual].titulo;
      document.getElementById('descricao').textContent = motivos[atual].descricao;
      

      const btnProximo = document.getElementById('btnProximo');
      btnProximo.style.display = (atual === motivos.length - 1) ? 'none' : 'inline-block';

      const btnEstatisticas = document.getElementById('btnStats');
      btnEstatisticas.style.display = (atual === motivos.length - 1) ? 'inline-block' : 'none';
  
      const btnAnterior = document.getElementById('btnAnterior');
      btnAnterior.style.display = (atual === 0) ? 'none' : 'inline-block';

      if (atual === motivos.length - 1) soltarCoracoes();
      atualizarContador();
}



    function proximo() {
      if (atual < motivos.length - 1) {
        atual++;
        mostrarMotivo();
      }
    }

    function voltar() {
      if (atual > 0) {
        atual--;
        mostrarMotivo();
      }
    }

    const btnNao = document.getElementById('btnNao');
    btnNao.addEventListener('mouseover', (e) => {
      const mouseX = e.clientX;
      const mouseY = e.clientY;
      const offset = 100;
      let newTop, newLeft;

      do {
        newTop = Math.random() * 80;
        newLeft = Math.random() * 80;
      } while (Math.abs(window.innerHeight * newTop / 100 - mouseY) < offset &&
               Math.abs(window.innerWidth * newLeft / 100 - mouseX) < offset);

      btnNao.style.top = newTop + '%';
      btnNao.style.left = newLeft + '%';
    });
    document.addEventListener('keydown', (e) => {
  if (document.getElementById('slide').style.display === 'flex') {
    if (e.key === 'ArrowRight') proximo();
    if (e.key === 'ArrowLeft') voltar();
  }
});

function soltarCoracoes() {
  for (let i = 0; i < 30; i++) {
    setTimeout(() => {
      const coracao = document.createElement('div');
      coracao.className = 'coracao';
      coracao.textContent = '❤️';
      coracao.style.left = Math.random() * 100 + 'vw';
      coracao.style.fontSize = (16 + Math.random() * 24) + 'px';
      document.body.appendChild(coracao);
      setTimeout(() => coracao.remove(), 4000);
    }, i * 150);
  }
}
function toggleMusica() {
  const musica = document.getElementById('musica');
  musica.paused ? musica.play() : musica.pause();
}
const musica = document.getElementById('musica');
  const btnMusica = document.getElementById('btnMusica');
  const volumeSlider = document.getElementById('volumeSlider');


  volumeSlider.oninput = () => {
    musica.volume = volumeSlider.value;
  };

  musicControl.addEventListener('mouseenter', () => {
    volumeSlider.style.opacity = '1';
    musicControl.style.width = '160px';
  });
  musicControl.addEventListener('mouseleave', () => {
    volumeSlider.style.opacity = '0';
    musicControl.style.width = '40px';
  });

  function atualizarContador() {
  const inicio = new Date('2023-02-03');
  const hoje = new Date();
  const dias = Math.floor((hoje - inicio) / (1000 * 60 * 60 * 24));
  document.getElementById('contadorDias').textContent = `${dias} dias desde o nosso primeiro encontro,`;
  document.getElementById('contadorMotivos').textContent = `${motivos.length} motivos listados até então,`;
}
window.onload = () => {
  particlesJS("particles-js", {
    particles: {
      number: { value: 20 },
      color: { value: "#ff6f61" },
      shape: { type: "circle" },
      opacity: { value: 0.5 },
      size: { value: 3 },
      move: { enable: true, speed: 1 }
    },
    interactivity: {
  events: {
    onhover: { enable: true, mode: "repulse" },
    onclick: { enable: true, mode: "push" }
  },
  modes: {
    repulse: { distance: 100 },
    push: { particles_nb: 4 }
  }
}
  });
};
function mostrarEstatisticas() {
  document.getElementById("popup").style.display = "block";
  document.getElementById("overlay").style.display = "block";
}

function fecharPopup() {
  document.getElementById("popup").style.display = "none";
  document.getElementById("overlay").style.display = "none";
}
  </script>
</body>
</html>
